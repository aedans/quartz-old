%
#include <stdio.h>
%

fn main() {
    fizzBuzz(100)
}

fn fizzBuzz(i: int) {
    if (greaterThan(i, 1))
        fizzBuzz(sub(i, 1))

    if (and(eq(mod(i, 3), 0), eq(mod(i, 5), 0)))
        printf("FizzBuzz ")
    else if (eq(mod(i, 3), 0))
        printf("Fizz ")
    else if (eq(mod(i, 5), 0))
        printf("Buzz ")
    else
        printInt(i)
}

fn greaterThan(i1: int, i2: int): int = %i1 > i2%

fn eq(i1: int, i2: int): int = %i1 == i2%

fn and(i1: int, i2: int): int = %i1 && i2%

fn mod(i1: int, i2: int): int = %i1 \% i2%

fn sub(i1: int, i2: int): int = %i1 - i2%

fn printInt(i: int)
    %printf("\%d ", i)%

extern_fn printf(char[])

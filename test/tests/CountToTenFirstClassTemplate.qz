import std.c.stdio

fn main(): int {
    val counter = countTo;
    counter(10, print);
    return 0;
}

fn countTo(i: int, printer: (int) -> void) {
    val counter = countTo;
    if (i > 0)
        counter.invoke<int, (int) -> void>(i - 1, printer);
    printer(i);
}

fn <I1, I2> invoke(function: (I1, I2) -> void, i1: I1, i2: I2)
    function(i1, i2);

fn print(i: int)
    printf("%d ", i);

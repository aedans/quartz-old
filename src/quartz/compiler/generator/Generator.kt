package quartz.compiler.generator

import quartz.compiler.syntax.SyntaxTree

/**
 * Created by Aedan Smith.
 */

object Generator {
    fun generate(syntaxTree: SyntaxTree): String {
        val builder = StringBuilder()
        builder.appendln("/* Generated by Quartz compiler */\n")
        syntaxTree.functionNodes.forEach {
            it.visit(builder)
            builder.append(";\n")
        }
        syntaxTree.functionNodes.forEach {
            builder.appendln()
            it.visit(builder)
            builder.append(" {\n")
            it.statements.forEach {
                builder.append("    ")
                it.visit(builder)
                builder.append(";\n")
            }
            builder.append("}\n")
        }
        return builder.toString()
    }
}
